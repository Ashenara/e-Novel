<script>
function updateAuthIcons(user) {
    const loginIcon = document.getElementById('auth-login-icon');
    const accountIcon = document.getElementById('auth-account-icon');

    if (!loginIcon || !accountIcon) {
        return;
    }

    if (user) {
        // User is signed IN
        loginIcon.classList.add('hidden');
        accountIcon.classList.remove('hidden');
    } else {
        // User is signed OUT
        loginIcon.classList.remove('hidden');
        accountIcon.classList.add('hidden');
    }
}

const authReadyCheck = setInterval(() => {
    if (window.firebase?.auth) {
        clearInterval(authReadyCheck);
        firebase.auth().onAuthStateChanged(updateAuthIcons);
    }
}, 100);
</script>